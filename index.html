<!DOCTYPE html>
<html lang="en" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="A collection of handy developer utility tools including JSON formatters, converters, calculators, and more.">
    <title>Utility Tools ‚Äî Dev Hub</title>
    <link rel="icon" type="image/svg+xml" href="assets/images/favicon.svg">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="assets/css/shared-styles.css">
    <link rel="manifest" href="manifest.json">
    <style>
        /* ‚îÄ‚îÄ Reset & Base ‚îÄ‚îÄ */
        *,
        *::before,
        *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: var(--color-bg-primary);
            color: var(--color-text-primary);
            min-height: 100vh;
            transition: background 0.3s ease, color 0.3s ease;
            overflow-x: hidden;
        }

        /* ‚îÄ‚îÄ CSS Variables ‚îÄ‚îÄ */
        :root {
            --hero-from: #6366f1;
            --hero-to: #8b5cf6;
            --card-radius: 16px;
            --glow-color: rgba(99, 102, 241, 0.18);
        }

        [data-theme="dark"] {
            --hero-from: #4338ca;
            --hero-to: #7c3aed;
            --glow-color: rgba(99, 102, 241, 0.28);
        }

        /* ‚îÄ‚îÄ Hero Section ‚îÄ‚îÄ */
        .hero {
            background: linear-gradient(135deg, var(--hero-from) 0%, var(--hero-to) 100%);
            padding: 3.5rem 1.5rem 4.5rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            inset: 0;
            background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            pointer-events: none;
        }

        .hero-top-bar {
            display: flex;
            justify-content: flex-end;
            max-width: 1200px;
            margin: 0 auto 2rem;
        }

        .hero-eyebrow {
            display: inline-flex;
            align-items: center;
            gap: 0.4rem;
            background: rgba(255, 255, 255, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.25);
            color: #fff;
            font-size: 0.78rem;
            font-weight: 600;
            letter-spacing: 0.08em;
            text-transform: uppercase;
            padding: 0.3rem 0.9rem;
            border-radius: 999px;
            backdrop-filter: blur(8px);
            margin-bottom: 1.2rem;
        }

        .hero h1 {
            font-size: clamp(2rem, 5vw, 3.2rem);
            font-weight: 800;
            color: #fff;
            line-height: 1.15;
            letter-spacing: -0.02em;
            margin-bottom: 0.8rem;
        }

        .hero h1 span {
            background: linear-gradient(90deg, #fde68a, #f9a8d4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero-subtitle {
            color: rgba(255, 255, 255, 0.75);
            font-size: 1.05rem;
            max-width: 520px;
            margin: 0 auto 1.8rem;
            line-height: 1.7;
        }

        .hero-stats {
            display: flex;
            gap: 2rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .stat-item {
            color: #fff;
            text-align: center;
        }

        .stat-item strong {
            display: block;
            font-size: 1.6rem;
            font-weight: 800;
        }

        .stat-item span {
            font-size: 0.78rem;
            opacity: 0.7;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        /* ‚îÄ‚îÄ Theme Toggle ‚îÄ‚îÄ */
        .theme-toggle {
            background: rgba(255, 255, 255, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 999px;
            width: 42px;
            height: 42px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.1rem;
            backdrop-filter: blur(8px);
            transition: all 0.2s ease;
            color: #fff;
        }

        .theme-toggle:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: scale(1.08);
        }

        [data-theme="dark"] .theme-toggle .icon-sun {
            display: inline;
        }

        [data-theme="dark"] .theme-toggle .icon-moon {
            display: none;
        }

        [data-theme="light"] .theme-toggle .icon-sun {
            display: none;
        }

        [data-theme="light"] .theme-toggle .icon-moon {
            display: inline;
        }

        /* ‚îÄ‚îÄ Sticky Search + Filters Bar ‚îÄ‚îÄ */
        .controls-bar {
            position: sticky;
            top: 0;
            z-index: 100;
            background: var(--color-bg-primary);
            border-bottom: 1px solid var(--color-border);
            padding: 0.85rem 1.5rem;
            transition: background 0.3s, border-color 0.3s;
        }

        .controls-inner {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .search-wrap {
            position: relative;
            max-width: 480px;
            width: 100%;
            margin: 0 auto;
        }

        .search-wrap i {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--color-text-secondary);
            font-size: 1rem;
            pointer-events: none;
        }

        .search-input {
            width: 100%;
            padding: 0.65rem 1rem 0.65rem 2.6rem;
            border: 1.5px solid var(--color-border);
            border-radius: 999px;
            font-size: 0.95rem;
            font-family: inherit;
            background: var(--color-bg-secondary);
            color: var(--color-text-primary);
            outline: none;
            transition: border-color 0.2s, box-shadow 0.2s;
        }

        .search-input:focus {
            border-color: #6366f1;
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.15);
        }

        .search-input::placeholder {
            color: var(--color-text-muted);
        }

        .clear-btn {
            position: absolute;
            right: 0.75rem;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            cursor: pointer;
            color: var(--color-text-muted);
            font-size: 1rem;
            display: none;
            padding: 0 2px;
        }

        .clear-btn.visible {
            display: block;
        }

        /* ‚îÄ‚îÄ Category Filters ‚îÄ‚îÄ */
        .category-filters {
            display: flex;
            flex-wrap: wrap;
            gap: 0.4rem;
            justify-content: center;
        }

        .category-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.3rem;
            padding: 0.35rem 0.85rem;
            border: 1.5px solid var(--color-border);
            border-radius: 999px;
            background: var(--color-bg-secondary);
            color: var(--color-text-secondary);
            font-size: 0.8rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.18s ease;
            white-space: nowrap;
            font-family: inherit;
        }

        .category-btn:hover {
            border-color: #6366f1;
            color: #6366f1;
            background: rgba(99, 102, 241, 0.05);
        }

        .category-btn.active {
            background: #6366f1;
            border-color: #6366f1;
            color: #fff;
            box-shadow: 0 2px 8px rgba(99, 102, 241, 0.35);
        }

        .category-btn .count-pill {
            background: rgba(255, 255, 255, 0.25);
            border-radius: 999px;
            padding: 0 5px;
            font-size: 0.7rem;
            line-height: 1.5;
            display: none;
        }

        .category-btn.active .count-pill {
            display: inline;
        }

        /* ‚îÄ‚îÄ Grid ‚îÄ‚îÄ */
        .main-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem 1.5rem 4rem;
        }

        .results-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1.25rem;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .results-count {
            font-size: 0.85rem;
            color: var(--color-text-secondary);
            font-weight: 500;
        }

        .tool-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 1.1rem;
        }

        /* ‚îÄ‚îÄ Tool Card ‚îÄ‚îÄ */
        .tool-item {
            animation: fadeInUp 0.35s ease both;
        }

        .tool-item.hidden {
            display: none !important;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(14px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .tool-card {
            display: block;
            text-decoration: none;
            background: var(--color-bg-secondary);
            border: 1px solid var(--color-border);
            border-radius: var(--card-radius);
            padding: 1.4rem 1.2rem 1.2rem;
            position: relative;
            overflow: hidden;
            transition: transform 0.22s ease, box-shadow 0.22s ease, border-color 0.22s ease;
            cursor: pointer;
        }

        .tool-card::before {
            content: '';
            position: absolute;
            inset: 0;
            opacity: 0;
            background: radial-gradient(circle at 50% 0%, var(--glow-color), transparent 60%);
            transition: opacity 0.3s ease;
            pointer-events: none;
        }

        .tool-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 32px rgba(0, 0, 0, 0.12);
            border-color: #6366f1;
        }

        .tool-card:hover::before {
            opacity: 1;
        }

        [data-theme="dark"] .tool-card:hover {
            box-shadow: 0 12px 32px rgba(0, 0, 0, 0.4);
        }

        /* Icon bubble */
        .card-icon-wrap {
            width: 52px;
            height: 52px;
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.45rem;
            margin-bottom: 0.9rem;
            transition: transform 0.2s ease;
        }

        .tool-card:hover .card-icon-wrap {
            transform: scale(1.1) rotate(-4deg);
        }

        /* Per-category icon colours */
        .icon-data {
            background: #eff6ff;
            color: #3b82f6;
        }

        .icon-security {
            background: #fef3c7;
            color: #d97706;
        }

        .icon-finance {
            background: #f0fdf4;
            color: #16a34a;
        }

        .icon-devops {
            background: #f5f3ff;
            color: #7c3aed;
        }

        .icon-logs {
            background: #fdf2f8;
            color: #db2777;
        }

        .icon-utility {
            background: #e0e7ff;
            color: #4338ca;
        }

        .icon-games {
            background: #fff7ed;
            color: #ea580c;
        }

        .icon-learning {
            background: #f0fdfa;
            color: #0d9488;
        }

        .icon-other {
            background: #f9fafb;
            color: #6b7280;
        }

        [data-theme="dark"] .icon-data {
            background: #1e3a5f;
            color: #60a5fa;
        }

        [data-theme="dark"] .icon-security {
            background: #451a03;
            color: #fbbf24;
        }

        [data-theme="dark"] .icon-finance {
            background: #14532d;
            color: #4ade80;
        }

        [data-theme="dark"] .icon-devops {
            background: #2e1065;
            color: #a78bfa;
        }

        [data-theme="dark"] .icon-logs {
            background: #500724;
            color: #f472b6;
        }

        [data-theme="dark"] .icon-utility {
            background: #1e1b4b;
            color: #818cf8;
        }

        [data-theme="dark"] .icon-games {
            background: #431407;
            color: #fb923c;
        }

        [data-theme="dark"] .icon-learning {
            background: #042f2e;
            color: #2dd4bf;
        }

        [data-theme="dark"] .icon-other {
            background: #1f2937;
            color: #9ca3af;
        }

        .card-title {
            font-size: 0.92rem;
            font-weight: 700;
            color: var(--color-text-primary);
            margin-bottom: 0.3rem;
            line-height: 1.3;
        }

        .card-desc {
            font-size: 0.78rem;
            color: var(--color-text-secondary);
            line-height: 1.5;
        }

        .card-arrow {
            position: absolute;
            bottom: 1rem;
            right: 1rem;
            font-size: 0.85rem;
            color: var(--color-text-muted);
            opacity: 0;
            transform: translate(-4px, 4px);
            transition: opacity 0.2s, transform 0.2s;
        }

        .tool-card:hover .card-arrow {
            opacity: 1;
            transform: translate(0, 0);
        }

        /* Category label below desc */
        .card-category-label {
            display: inline-block;
            font-size: 0.68rem;
            font-weight: 700;
            letter-spacing: 0.06em;
            text-transform: uppercase;
            margin-top: 0.6rem;
            padding: 0.15rem 0.5rem;
            border-radius: 999px;
        }

        /* ‚îÄ‚îÄ Favourite Star Button ‚îÄ‚îÄ */
        .fav-btn {
            position: absolute;
            top: 0.65rem;
            right: 0.65rem;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1rem;
            line-height: 1;
            color: var(--color-text-muted);
            padding: 3px;
            border-radius: 6px;
            transition: color 0.18s, transform 0.18s;
            z-index: 2;
        }

        .fav-btn:hover {
            transform: scale(1.25);
            color: #f59e0b;
        }

        .fav-btn.active {
            color: #f59e0b;
        }

        .tool-item.pinned {
            order: -1;
        }

        /* ‚îÄ‚îÄ Recently Opened ‚îÄ‚îÄ */
        .section-label {
            font-size: 0.72rem;
            font-weight: 700;
            letter-spacing: 0.08em;
            text-transform: uppercase;
            color: var(--color-text-muted);
            margin-bottom: 0.6rem;
        }

        .recent-section {
            margin-bottom: 1.5rem;
            display: none;
        }

        .recent-section.visible {
            display: block;
        }

        .recent-row {
            display: flex;
            gap: 0.6rem;
            flex-wrap: wrap;
        }

        .recent-chip {
            display: inline-flex;
            align-items: center;
            gap: 0.4rem;
            padding: 0.35rem 0.8rem;
            border-radius: 999px;
            background: var(--color-bg-secondary);
            border: 1px solid var(--color-border);
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--color-text-primary);
            text-decoration: none;
            transition: border-color 0.18s, background 0.18s, transform 0.18s;
        }

        .recent-chip:hover {
            border-color: #6366f1;
            background: rgba(99, 102, 241, 0.07);
            transform: translateY(-2px);
        }

        .recent-chip i {
            font-size: 0.85rem;
        }

        /* ‚îÄ‚îÄ Keyboard Hint Toast ‚îÄ‚îÄ */
        .kbd-hint {
            position: fixed;
            bottom: 1.5rem;
            left: 50%;
            transform: translateX(-50%) translateY(80px);
            background: rgba(15, 23, 42, 0.92);
            color: #fff;
            font-size: 0.8rem;
            padding: 0.5rem 1rem;
            border-radius: 999px;
            backdrop-filter: blur(8px);
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.25s, transform 0.25s;
            z-index: 9999;
            white-space: nowrap;
        }

        .kbd-hint.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }

        .kbd-hint kbd {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
            padding: 1px 5px;
            font-family: monospace;
            font-size: 0.78rem;
        }

        /* ‚îÄ‚îÄ PWA Install Banner ‚îÄ‚îÄ */
        .pwa-banner {
            display: none;
            align-items: center;
            justify-content: space-between;
            gap: 1rem;
            background: linear-gradient(90deg, #6366f1, #8b5cf6);
            color: #fff;
            padding: 0.7rem 1.5rem;
            font-size: 0.85rem;
            flex-wrap: wrap;
        }

        .pwa-banner.show {
            display: flex;
        }

        .pwa-banner-actions {
            display: flex;
            gap: 0.5rem;
        }

        .pwa-btn {
            padding: 0.35rem 0.85rem;
            border-radius: 999px;
            border: 1.5px solid rgba(255, 255, 255, 0.6);
            background: rgba(255, 255, 255, 0.15);
            color: #fff;
            font-size: 0.8rem;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.18s;
        }

        .pwa-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .pwa-btn.primary {
            background: #fff;
            color: #6366f1;
            border-color: #fff;
        }

        .pwa-btn.primary:hover {
            background: #e0e7ff;
        }

        /* ‚îÄ‚îÄ Empty State ‚îÄ‚îÄ */
        .empty-state {
            text-align: center;
            padding: 4rem 1rem;
            display: none;
            grid-column: 1/-1;
        }

        .empty-state.visible {
            display: block;
        }

        .empty-state i {
            font-size: 3rem;
            color: var(--color-text-muted);
            margin-bottom: 1rem;
            display: block;
        }

        .empty-state h3 {
            font-weight: 700;
            margin-bottom: 0.4rem;
        }

        .empty-state p {
            color: var(--color-text-secondary);
            font-size: 0.9rem;
        }

        /* ‚îÄ‚îÄ Footer ‚îÄ‚îÄ */
        footer {
            text-align: center;
            padding: 1.5rem;
            font-size: 0.8rem;
            color: var(--color-text-muted);
            border-top: 1px solid var(--color-border);
        }

        /* ‚îÄ‚îÄ Responsive ‚îÄ‚îÄ */
        @media (max-width: 600px) {
            .hero {
                padding: 2.5rem 1rem 3rem;
            }

            .hero-stats {
                gap: 1.2rem;
            }

            .tool-grid {
                grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
                gap: 0.75rem;
            }

            .controls-bar {
                padding: 0.75rem 1rem;
            }
        }
    </style>
</head>

<body>

    <!-- ‚ñë‚ñë PWA INSTALL BANNER ‚ñë‚ñë -->
    <div class="pwa-banner" id="pwaBanner" role="banner">
        <span><i class="bi bi-stars"></i> &nbsp;Install <strong>Dev Hub</strong> as a desktop app for quick
            access!</span>
        <div class="pwa-banner-actions">
            <button class="pwa-btn primary" id="pwaInstallBtn">Install</button>
            <button class="pwa-btn" id="pwaDismissBtn">Not now</button>
        </div>
    </div>

    <!-- ‚ñë‚ñë KEYBOARD HINT TOAST ‚ñë‚ñë -->
    <div class="kbd-hint" id="kbdHint">Press <kbd>/</kbd> to search &nbsp;¬∑&nbsp; <kbd>Esc</kbd> to clear</div>

    <!-- ‚ñë‚ñë HERO ‚ñë‚ñë -->
    <header class="hero">
        <div class="hero-top-bar">
            <button class="theme-toggle" onclick="toggleTheme()" title="Toggle dark mode" aria-label="Toggle dark mode">
                <span class="icon-sun">‚òÄÔ∏è</span>
                <span class="icon-moon">üåô</span>
            </button>
        </div>
        <div class="hero-eyebrow"><i class="bi bi-tools"></i> Developer Toolkit</div>
        <h1>Your <span>Utility Hub</span></h1>
        <p class="hero-subtitle">A curated suite of developer tools ‚Äî format, convert, generate, and explore ‚Äî all in
            one place.</p>
        <div class="hero-stats">
            <div class="stat-item"><strong id="totalCount">35</strong><span>Tools</span></div>
            <div class="stat-item"><strong>9</strong><span>Categories</span></div>
            <div class="stat-item"><strong>PWA</strong><span>Installable</span></div>
        </div>
    </header>

    <!-- ‚ñë‚ñë CONTROLS ‚ñë‚ñë -->
    <nav class="controls-bar" aria-label="Tool filters">
        <div class="controls-inner">
            <!-- Search -->
            <div class="search-wrap">
                <i class="bi bi-search"></i>
                <input type="text" id="toolSearch" class="search-input" placeholder="Search tools‚Ä¶" autocomplete="off"
                    aria-label="Search tools">
                <button class="clear-btn" id="clearBtn" aria-label="Clear search" title="Clear search">‚úï</button>
            </div>
            <!-- Categories -->
            <div class="category-filters" role="group" aria-label="Category filter">
                <button class="category-btn active" data-category="all"><i class="bi bi-grid-3x3-gap"></i> All</button>
                <button class="category-btn" data-category="data"><i class="bi bi-braces"></i> Data</button>
                <button class="category-btn" data-category="security"><i class="bi bi-shield-lock"></i>
                    Security</button>
                <button class="category-btn" data-category="finance"><i class="bi bi-currency-exchange"></i>
                    Finance</button>
                <button class="category-btn" data-category="devops"><i class="bi bi-gear"></i> DevOps</button>
                <button class="category-btn" data-category="logs"><i class="bi bi-journal-text"></i> Logs</button>
                <button class="category-btn" data-category="utility"><i class="bi bi-tools"></i> Utility</button>
                <button class="category-btn" data-category="games"><i class="bi bi-controller"></i> Games</button>
                <button class="category-btn" data-category="learning"><i class="bi bi-book"></i> Learning</button>
                <button class="category-btn" data-category="other"><i class="bi bi-three-dots"></i> Other</button>
            </div>
        </div>
    </nav>

    <!-- ‚ñë‚ñë MAIN GRID ‚ñë‚ñë -->
    <main class="main-content">

        <!-- Recently Opened -->
        <div class="recent-section" id="recentSection">
            <div class="section-label"><i class="bi bi-clock-history"></i> &nbsp;Recently Opened</div>
            <div class="recent-row" id="recentRow"></div>
        </div>

        <div class="results-header">
            <span class="results-count" id="resultsCount">Showing all tools</span>
        </div>
        <div class="tool-grid" id="toolGrid">

            <!-- DATA TOOLS -->
            <div class="col tool-item" data-category="data" data-name="Data Formatter"
                data-desc="Format JSON or XML for readability">
                <a href="tools/formatters/data-formatter-v2.html" class="tool-card">
                    <div class="card-icon-wrap icon-data"><i class="bi bi-file-earmark-code"></i></div>
                    <div class="card-title">Data Formatter</div>
                    <div class="card-desc">Format JSON or XML for readability.</div>
                    <span class="card-category-label icon-data">Data</span>
                    <i class="bi bi-arrow-up-right card-arrow"></i>
                </a>
            </div>
            <div class="col tool-item" data-category="data" data-name="Data Formatter v3"
                data-desc="Advanced formatting with length info">
                <a href="legacy/v3/objectParser.html" class="tool-card">
                    <div class="card-icon-wrap icon-data"><i class="bi bi-file-earmark-code"></i></div>
                    <div class="card-title">Data Formatter v3</div>
                    <div class="card-desc">Advanced formatting with length info.</div>
                    <span class="card-category-label icon-data">Data</span>
                    <i class="bi bi-arrow-up-right card-arrow"></i>
                </a>
            </div>
            <div class="col tool-item" data-category="data" data-name="JSON Beautifier"
                data-desc="Pretty-print and explore JSON data">
                <a href="tools/formatters/json-beautify.html" class="tool-card">
                    <div class="card-icon-wrap icon-data"><i class="bi bi-braces"></i></div>
                    <div class="card-title">JSON Beautifier</div>
                    <div class="card-desc">Pretty-print and explore JSON data.</div>
                    <span class="card-category-label icon-data">Data</span>
                    <i class="bi bi-arrow-up-right card-arrow"></i>
                </a>
            </div>
            <div class="col tool-item" data-category="data" data-name="YAML JSON Converter"
                data-desc="Convert between YAML and JSON formats">
                <a href="tools/formatters/yaml-json-converter.html" class="tool-card">
                    <div class="card-icon-wrap icon-data"><i class="bi bi-arrow-left-right"></i></div>
                    <div class="card-title">YAML ‚Üî JSON</div>
                    <div class="card-desc">Convert between YAML and JSON formats.</div>
                    <span class="card-category-label icon-data">Data</span>
                    <i class="bi bi-arrow-up-right card-arrow"></i>
                </a>
            </div>
            <div class="col tool-item" data-category="data" data-name="JSON to CSV Converter"
                data-desc="Download CSV from JSON lists">
                <a href="templates/generateReportCSV.html" class="tool-card">
                    <div class="card-icon-wrap icon-data"><i class="bi bi-filetype-csv"></i></div>
                    <div class="card-title">JSON to CSV</div>
                    <div class="card-desc">Download CSV from JSON lists.</div>
                    <span class="card-category-label icon-data">Data</span>
                    <i class="bi bi-arrow-up-right card-arrow"></i>
                </a>
            </div>
            <div class="col tool-item" data-category="data" data-name="Set Comparator"
                data-desc="Compare and find differences between sets">
                <a href="tools/devops/set-comparator.html" class="tool-card">
                    <div class="card-icon-wrap icon-data"><i class="bi bi-intersect"></i></div>
                    <div class="card-title">Set Comparator</div>
                    <div class="card-desc">Compare and find differences between sets.</div>
                    <span class="card-category-label icon-data">Data</span>
                    <i class="bi bi-arrow-up-right card-arrow"></i>
                </a>
            </div>
            <div class="col tool-item" data-category="data" data-name="Thymeleaf Renderer"
                data-desc="Render Thymeleaf templates with JSON data">
                <a href="tools/generators/thymeleaf-renderer.html" class="tool-card">
                    <div class="card-icon-wrap icon-data"><i class="bi bi-code-slash"></i></div>
                    <div class="card-title">Thymeleaf Renderer</div>
                    <div class="card-desc">Render Thymeleaf templates with JSON data.</div>
                    <span class="card-category-label icon-data">Data</span>
                    <i class="bi bi-arrow-up-right card-arrow"></i>
                </a>
            </div>
            <div class="col tool-item" data-category="data" data-name="Base64 Encoder Decoder"
                data-desc="Encode and decode Base64 strings">
                <a href="tools/encoders/base64-tool.html" class="tool-card">
                    <div class="card-icon-wrap icon-data"><i class="bi bi-file-binary"></i></div>
                    <div class="card-title">Base64 Encoder/Decoder</div>
                    <div class="card-desc">Encode and decode Base64 strings.</div>
                    <span class="card-category-label icon-data">Data</span>
                    <i class="bi bi-arrow-up-right card-arrow"></i>
                </a>
            </div>
            <div class="col tool-item" data-category="data" data-name="Regex Tester"
                data-desc="Live regex matching with groups">
                <a href="tools/generators/regex-tester.html" class="tool-card">
                    <div class="card-icon-wrap icon-data"><i class="bi bi-regex"></i></div>
                    <div class="card-title">Regex Tester</div>
                    <div class="card-desc">Live regex matching with groups.</div>
                    <span class="card-category-label icon-data">Data</span>
                    <i class="bi bi-arrow-up-right card-arrow"></i>
                </a>
            </div>
            <div class="col tool-item" data-category="data" data-name="Diff Viewer"
                data-desc="Compare text side-by-side">
                <a href="tools/generators/diff-viewer.html" class="tool-card">
                    <div class="card-icon-wrap icon-data"><i class="bi bi-file-diff"></i></div>
                    <div class="card-title">Diff Viewer</div>
                    <div class="card-desc">Compare text side-by-side.</div>
                    <span class="card-category-label icon-data">Data</span>
                    <i class="bi bi-arrow-up-right card-arrow"></i>
                </a>
            </div>
            <div class="col tool-item" data-category="data" data-name="Markdown Previewer"
                data-desc="Live markdown editor with preview">
                <a href="tools/generators/markdown-previewer.html" class="tool-card">
                    <div class="card-icon-wrap icon-data"><i class="bi bi-markdown"></i></div>
                    <div class="card-title">Markdown Previewer</div>
                    <div class="card-desc">Live markdown editor with preview.</div>
                    <span class="card-category-label icon-data">Data</span>
                    <i class="bi bi-arrow-up-right card-arrow"></i>
                </a>
            </div>
            <div class="col tool-item" data-category="data" data-name="CSV Viewer Editor"
                data-desc="View edit and export CSV files">
                <a href="tools/formatters/csv-viewer.html" class="tool-card">
                    <div class="card-icon-wrap icon-data"><i class="bi bi-file-earmark-spreadsheet"></i></div>
                    <div class="card-title">CSV Viewer/Editor</div>
                    <div class="card-desc">View, edit, and export CSV files.</div>
                    <span class="card-category-label icon-data">Data</span>
                    <i class="bi bi-arrow-up-right card-arrow"></i>
                </a>
            </div>
            <div class="col tool-item" data-category="data" data-name="Timestamp Converter"
                data-desc="Convert Unix timestamps to dates">
                <a href="tools/generators/timestamp-converter.html" class="tool-card">
                    <div class="card-icon-wrap icon-data"><i class="bi bi-clock-history"></i></div>
                    <div class="card-title">Timestamp Converter</div>
                    <div class="card-desc">Convert Unix timestamps to dates.</div>
                    <span class="card-category-label icon-data">Data</span>
                    <i class="bi bi-arrow-up-right card-arrow"></i>
                </a>
            </div>

            <!-- SECURITY -->
            <div class="col tool-item" data-category="security" data-name="AES-256 GCM Demo"
                data-desc="Encrypt and decrypt data samples">
                <a href="tools/encoders/aes-256-gcm.html" class="tool-card">
                    <div class="card-icon-wrap icon-security"><i class="bi bi-shield-lock"></i></div>
                    <div class="card-title">AES-256-GCM Demo</div>
                    <div class="card-desc">Encrypt and decrypt data samples.</div>
                    <span class="card-category-label icon-security">Security</span>
                    <i class="bi bi-arrow-up-right card-arrow"></i>
                </a>
            </div>
            <div class="col tool-item" data-category="security" data-name="JWT Debugger"
                data-desc="Decode and inspect JSON Web Tokens">
                <a href="tools/encoders/jwt-debugger.html" class="tool-card">
                    <div class="card-icon-wrap icon-security"><i class="bi bi-key"></i></div>
                    <div class="card-title">JWT Debugger</div>
                    <div class="card-desc">Decode and inspect JSON Web Tokens.</div>
                    <span class="card-category-label icon-security">Security</span>
                    <i class="bi bi-arrow-up-right card-arrow"></i>
                </a>
            </div>
            <div class="col tool-item" data-category="security" data-name="Hash Generator"
                data-desc="Generate MD5 SHA-256 SHA-512 hashes">
                <a href="tools/encoders/hash-generator.html" class="tool-card">
                    <div class="card-icon-wrap icon-security"><i class="bi bi-hash"></i></div>
                    <div class="card-title">Hash Generator</div>
                    <div class="card-desc">Generate MD5, SHA-256, SHA-512 hashes.</div>
                    <span class="card-category-label icon-security">Security</span>
                    <i class="bi bi-arrow-up-right card-arrow"></i>
                </a>
            </div>

            <!-- FINANCE -->
            <div class="col tool-item" data-category="finance" data-name="Generic Currency Converter"
                data-desc="Convert currencies using current rates">
                <a href="tools/utilities/rate-conversion.html" class="tool-card">
                    <div class="card-icon-wrap icon-finance"><i class="bi bi-currency-exchange"></i></div>
                    <div class="card-title">Currency Converter</div>
                    <div class="card-desc">Convert currencies using current rates.</div>
                    <span class="card-category-label icon-finance">Finance</span>
                    <i class="bi bi-arrow-up-right card-arrow"></i>
                </a>
            </div>
            <div class="col tool-item" data-category="finance" data-name="DR Price Calculator"
                data-desc="Compute DR prices from stock values">
                <a href="tools/utilities/stock-dr-convertion.html" class="tool-card">
                    <div class="card-icon-wrap icon-finance"><i class="bi bi-calculator"></i></div>
                    <div class="card-title">DR Price Calculator</div>
                    <div class="card-desc">Compute DR prices from stock values.</div>
                    <span class="card-category-label icon-finance">Finance</span>
                    <i class="bi bi-arrow-up-right card-arrow"></i>
                </a>
            </div>
            <div class="col tool-item" data-category="finance" data-name="BAHTNET Template Viewer"
                data-desc="View payment templates and fees">
                <a href="templates/bahtnet-template.html" class="tool-card">
                    <div class="card-icon-wrap icon-finance"><i class="bi bi-bank"></i></div>
                    <div class="card-title">BAHTNET Template</div>
                    <div class="card-desc">View payment templates and fees.</div>
                    <span class="card-category-label icon-finance">Finance</span>
                    <i class="bi bi-arrow-up-right card-arrow"></i>
                </a>
            </div>
            <div class="col tool-item" data-category="finance" data-name="Billpayment Template Calculator"
                data-desc="Dynamic payment summation by template config">
                <a href="templates/billpayment-template.html" class="tool-card">
                    <div class="card-icon-wrap icon-finance"><i class="bi bi-receipt"></i></div>
                    <div class="card-title">Billpayment Calculator</div>
                    <div class="card-desc">Dynamic payment summation by template config.</div>
                    <span class="card-category-label icon-finance">Finance</span>
                    <i class="bi bi-arrow-up-right card-arrow"></i>
                </a>
            </div>
            <div class="col tool-item" data-category="finance" data-name="Smart Media Clearing"
                data-desc="Scenario viewer and calculator">
                <a href="templates/smart-media-clearing.html" class="tool-card">
                    <div class="card-icon-wrap icon-finance"><i class="bi bi-diagram-3"></i></div>
                    <div class="card-title">Smart Media Clearing</div>
                    <div class="card-desc">Scenario viewer and calculator.</div>
                    <span class="card-category-label icon-finance">Finance</span>
                    <i class="bi bi-arrow-up-right card-arrow"></i>
                </a>
            </div>

            <!-- DEVOPS -->
            <div class="col tool-item" data-category="devops" data-name="Istio VS Generator"
                data-desc="Generate Istio VirtualService YAML objects">
                <a href="tools/devops/istio-vs-generator.html" class="tool-card">
                    <div class="card-icon-wrap icon-devops"><i class="bi bi-hdd-network"></i></div>
                    <div class="card-title">Istio VS Generator</div>
                    <div class="card-desc">Generate Istio VirtualService YAML objects.</div>
                    <span class="card-category-label icon-devops">DevOps</span>
                    <i class="bi bi-arrow-up-right card-arrow"></i>
                </a>
            </div>
            <div class="col tool-item" data-category="devops" data-name="Timeout Simulator"
                data-desc="Experiment with delayed HTTP replies">
                <a href="tools/utilities/timeout-simulator.html" class="tool-card">
                    <div class="card-icon-wrap icon-devops"><i class="bi bi-hourglass-split"></i></div>
                    <div class="card-title">Timeout Simulator</div>
                    <div class="card-desc">Experiment with delayed HTTP replies.</div>
                    <span class="card-category-label icon-devops">DevOps</span>
                    <i class="bi bi-arrow-up-right card-arrow"></i>
                </a>
            </div>
            <div class="col tool-item" data-category="devops" data-name="Deeplink Wrapper"
                data-desc="Test and wrap deep links">
                <a href="tools/utilities/deeplink-wrapper.html" class="tool-card">
                    <div class="card-icon-wrap icon-devops"><i class="bi bi-link-45deg"></i></div>
                    <div class="card-title">Deeplink Wrapper</div>
                    <div class="card-desc">Test and wrap deep links.</div>
                    <span class="card-category-label icon-devops">DevOps</span>
                    <i class="bi bi-arrow-up-right card-arrow"></i>
                </a>
            </div>
            <div class="col tool-item" data-category="devops" data-name="Spring Boot Microservice Guide"
                data-desc="Best practices for Java microservices">
                <a href="guides/springboot-microservice-guide.html" class="tool-card">
                    <div class="card-icon-wrap icon-devops"><i class="bi bi-boxes"></i></div>
                    <div class="card-title">Spring Boot Guide</div>
                    <div class="card-desc">Best practices for Java microservices.</div>
                    <span class="card-category-label icon-devops">DevOps</span>
                    <i class="bi bi-arrow-up-right card-arrow"></i>
                </a>
            </div>

            <!-- LOGS -->
            <div class="col tool-item" data-category="logs" data-name="Log Formatter"
                data-desc="View JSON logs as HTML tables">
                <a href="tools/formatters/log-formatter.html" class="tool-card">
                    <div class="card-icon-wrap icon-logs"><i class="bi bi-table"></i></div>
                    <div class="card-title">Log Formatter</div>
                    <div class="card-desc">View JSON logs as HTML tables.</div>
                    <span class="card-category-label icon-logs">Logs</span>
                    <i class="bi bi-arrow-up-right card-arrow"></i>
                </a>
            </div>
            <div class="col tool-item" data-category="logs" data-name="Log Formatter v2"
                data-desc="Enhanced log viewer with extras">
                <a href="tools/formatters/log-formatter-v2.html" class="tool-card">
                    <div class="card-icon-wrap icon-logs"><i class="bi bi-table"></i></div>
                    <div class="card-title">Log Formatter v2</div>
                    <div class="card-desc">Enhanced log viewer with extras.</div>
                    <span class="card-category-label icon-logs">Logs</span>
                    <i class="bi bi-arrow-up-right card-arrow"></i>
                </a>
            </div>
            <div class="col tool-item" data-category="logs" data-name="Dynatrace Log Viewer"
                data-desc="Analyze Dynatrace logs with summary view">
                <a href="tools/devops/dynatrace-log-viewer.html" class="tool-card">
                    <div class="card-icon-wrap icon-logs"><i class="bi bi-clipboard-data"></i></div>
                    <div class="card-title">Dynatrace Log Viewer</div>
                    <div class="card-desc">Analyze Dynatrace logs with summary view.</div>
                    <span class="card-category-label icon-logs">Logs</span>
                    <i class="bi bi-arrow-up-right card-arrow"></i>
                </a>
            </div>
            <div class="col tool-item" data-category="logs" data-name="PMCS Data Loader"
                data-desc="Generate fixed-length lines from PMCS JSON">
                <a href="tools/utilities/pmcs-data-loader.html" class="tool-card">
                    <div class="card-icon-wrap icon-logs"><i class="bi bi-filetype-txt"></i></div>
                    <div class="card-title">PMCS Data Loader</div>
                    <div class="card-desc">Generate fixed-length lines from PMCS JSON.</div>
                    <span class="card-category-label icon-logs">Logs</span>
                    <i class="bi bi-arrow-up-right card-arrow"></i>
                </a>
            </div>
            <div class="col tool-item" data-category="logs" data-name="DQL Query Builder"
                data-desc="Generate standardized Dynatrace log queries">
                <a href="tools/devops/dql-builder.html" class="tool-card">
                    <div class="card-icon-wrap icon-logs"><i class="bi bi-terminal"></i></div>
                    <div class="card-title">DQL Query Builder</div>
                    <div class="card-desc">Generate standardized Dynatrace log queries.</div>
                    <span class="card-category-label icon-logs">Logs</span>
                    <i class="bi bi-arrow-up-right card-arrow"></i>
                </a>
            </div>

            <!-- UTILITY -->
            <div class="col tool-item" data-category="utility" data-name="QR Code Generator"
                data-desc="Generate QR codes from text or URLs">
                <a href="tools/generators/qr-code-generator.html" class="tool-card">
                    <div class="card-icon-wrap icon-utility"><i class="bi bi-qr-code"></i></div>
                    <div class="card-title">QR Code Generator</div>
                    <div class="card-desc">Generate QR codes from text or URLs.</div>
                    <span class="card-category-label icon-utility">Utility</span>
                    <i class="bi bi-arrow-up-right card-arrow"></i>
                </a>
            </div>
            <div class="col tool-item" data-category="utility" data-name="Barcode Generator"
                data-desc="Generate Code128 EAN-13 UPC barcodes">
                <a href="tools/generators/barcode-generator.html" class="tool-card">
                    <div class="card-icon-wrap icon-utility"><i class="bi bi-upc-scan"></i></div>
                    <div class="card-title">Barcode Generator</div>
                    <div class="card-desc">Generate Code128, EAN-13, UPC barcodes.</div>
                    <span class="card-category-label icon-utility">Utility</span>
                    <i class="bi bi-arrow-up-right card-arrow"></i>
                </a>
            </div>

            <!-- GAMES -->
            <div class="col tool-item" data-category="games" data-name="Retro Snake"
                data-desc="Classic Nokia-style Snake game">
                <a href="games/snake.html" class="tool-card">
                    <div class="card-icon-wrap icon-games"><i class="bi bi-controller"></i></div>
                    <div class="card-title">Retro Snake</div>
                    <div class="card-desc">Classic Nokia-style Snake game.</div>
                    <span class="card-category-label icon-games">Games</span>
                    <i class="bi bi-arrow-up-right card-arrow"></i>
                </a>
            </div>
            <div class="col tool-item" data-category="games" data-name="GTA Mini" data-desc="GTA-style action game">
                <a href="games/gta.html" class="tool-card">
                    <div class="card-icon-wrap icon-games"><i class="bi bi-car-front"></i></div>
                    <div class="card-title">GTA Mini</div>
                    <div class="card-desc">GTA-style action game.</div>
                    <span class="card-category-label icon-games">Games</span>
                    <i class="bi bi-arrow-up-right card-arrow"></i>
                </a>
            </div>
            <div class="col tool-item" data-category="games" data-name="Tamagotchi"
                data-desc="Virtual pet simulation game">
                <a href="games/tamagot-v1.html" class="tool-card">
                    <div class="card-icon-wrap icon-games"><i class="bi bi-egg"></i></div>
                    <div class="card-title">Tamagotchi</div>
                    <div class="card-desc">Virtual pet simulation game.</div>
                    <span class="card-category-label icon-games">Games</span>
                    <i class="bi bi-arrow-up-right card-arrow"></i>
                </a>
            </div>
            <div class="col tool-item" data-category="games" data-name="Road Rush"
                data-desc="Arcade driving simulator game">
                <a href="games/driving-simulator.html" class="tool-card">
                    <div class="card-icon-wrap icon-games"><i class="bi bi-speedometer2"></i></div>
                    <div class="card-title">Road Rush</div>
                    <div class="card-desc">Arcade driving simulator game.</div>
                    <span class="card-category-label icon-games">Games</span>
                    <i class="bi bi-arrow-up-right card-arrow"></i>
                </a>
            </div>

            <!-- LEARNING -->
            <div class="col tool-item" data-category="learning" data-name="English Lab"
                data-desc="Learn English with flashcards quizzes and more">
                <a href="tools/learning/english-lab.html" class="tool-card">
                    <div class="card-icon-wrap icon-learning"><i class="bi bi-book"></i></div>
                    <div class="card-title">English Lab</div>
                    <div class="card-desc">Learn English with flashcards, quizzes &amp; more.</div>
                    <span class="card-category-label icon-learning">Learning</span>
                    <i class="bi bi-arrow-up-right card-arrow"></i>
                </a>
            </div>

            <!-- OTHER -->
            <div class="col tool-item" data-category="other" data-name="Line LIFF POC"
                data-desc="Test basic LIFF features">
                <a href="legacy/line-liff-poc.html" class="tool-card">
                    <div class="card-icon-wrap icon-other"><i class="bi bi-chat-left-text"></i></div>
                    <div class="card-title">Line LIFF POC</div>
                    <div class="card-desc">Test basic LIFF features.</div>
                    <span class="card-category-label icon-other">Other</span>
                    <i class="bi bi-arrow-up-right card-arrow"></i>
                </a>
            </div>
            <div class="col tool-item" data-category="other" data-name="LIFF App Demo"
                data-desc="Simple mobile LIFF application">
                <a href="legacy/line-lift-poc-2.html" class="tool-card">
                    <div class="card-icon-wrap icon-other"><i class="bi bi-phone"></i></div>
                    <div class="card-title">LIFF App Demo</div>
                    <div class="card-desc">Simple mobile LIFF application.</div>
                    <span class="card-category-label icon-other">Other</span>
                    <i class="bi bi-arrow-up-right card-arrow"></i>
                </a>
            </div>

            <!-- Empty state -->
            <div class="empty-state" id="emptyState">
                <i class="bi bi-search"></i>
                <h3>No tools found</h3>
                <p>Try a different search term or category.</p>
            </div>
        </div>
    </main>

    <footer>
        Built with ‚ù§Ô∏è ‚Äî <strong>Utility Tools Dev Hub</strong>
    </footer>

    <script>
        (() => {
            /* ‚îÄ‚îÄ DOM refs ‚îÄ‚îÄ */
            const searchInput = document.getElementById('toolSearch');
            const clearBtn = document.getElementById('clearBtn');
            const toolItems = [...document.querySelectorAll('#toolGrid .tool-item')];
            const categoryBtns = document.querySelectorAll('.category-btn');
            const resultsCount = document.getElementById('resultsCount');
            const emptyState = document.getElementById('emptyState');
            const totalCountEl = document.getElementById('totalCount');
            const recentSection = document.getElementById('recentSection');
            const recentRow = document.getElementById('recentRow');
            const kbdHint = document.getElementById('kbdHint');

            /* ‚îÄ‚îÄ Count-up animation for hero stat ‚îÄ‚îÄ */
            function countUp(el, target, duration = 900) {
                let start = 0, startTime = null;
                function step(ts) {
                    if (!startTime) startTime = ts;
                    const pct = Math.min((ts - startTime) / duration, 1);
                    el.textContent = Math.round(pct * target);
                    if (pct < 1) requestAnimationFrame(step);
                }
                requestAnimationFrame(step);
            }
            countUp(totalCountEl, toolItems.length);

            /* ‚îÄ‚îÄ Stagger entrance animations ‚îÄ‚îÄ */
            toolItems.forEach((item, i) => { item.style.animationDelay = `${i * 0.025}s`; });

            /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
               FAVOURITES
            ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
            const FAV_KEY = 'phs-favourites';
            let favs = JSON.parse(localStorage.getItem(FAV_KEY) || '[]');

            function saveFavs() { localStorage.setItem(FAV_KEY, JSON.stringify(favs)); }

            toolItems.forEach(item => {
                const link = item.querySelector('.tool-card');
                const href = link ? link.getAttribute('href') : '';
                const btn = document.createElement('button');
                btn.className = 'fav-btn' + (favs.includes(href) ? ' active' : '');
                btn.title = 'Pin to favourites';
                btn.setAttribute('aria-label', 'Toggle favourite');
                btn.innerHTML = '<i class="bi bi-star' + (favs.includes(href) ? '-fill' : '') + '"></i>';
                btn.addEventListener('click', e => {
                    e.preventDefault(); e.stopPropagation();
                    if (favs.includes(href)) {
                        favs = favs.filter(f => f !== href);
                        btn.classList.remove('active');
                        btn.innerHTML = '<i class="bi bi-star"></i>';
                        item.classList.remove('pinned');
                    } else {
                        favs.push(href);
                        btn.classList.add('active');
                        btn.innerHTML = '<i class="bi bi-star-fill"></i>';
                        item.classList.add('pinned');
                    }
                    saveFavs();
                });
                item.style.position = 'relative';
                item.appendChild(btn);
                if (favs.includes(href)) item.classList.add('pinned');
            });

            /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
               RECENTLY OPENED
            ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
            const RECENT_KEY = 'phs-recent';
            const MAX_RECENT = 5;
            let recentList = JSON.parse(localStorage.getItem(RECENT_KEY) || '[]');

            function renderRecent() {
                if (!recentList.length) { recentSection.classList.remove('visible'); return; }
                recentSection.classList.add('visible');
                recentRow.innerHTML = '';
                recentList.slice(0, MAX_RECENT).forEach(r => {
                    const chip = document.createElement('a');
                    chip.href = r.href;
                    chip.className = 'recent-chip';
                    chip.innerHTML = `<i class="bi ${r.icon}"></i>${r.name}`;
                    chip.addEventListener('click', () => trackRecent(r));
                    recentRow.appendChild(chip);
                });
            }

            function trackRecent(entry) {
                recentList = recentList.filter(r => r.href !== entry.href);
                recentList.unshift(entry);
                if (recentList.length > MAX_RECENT) recentList.length = MAX_RECENT;
                localStorage.setItem(RECENT_KEY, JSON.stringify(recentList));
            }

            // Wire up card links to track on click
            toolItems.forEach(item => {
                const link = item.querySelector('.tool-card');
                if (!link) return;
                const iconEl = item.querySelector('.card-icon-wrap i');
                const iconClass = iconEl ? [...iconEl.classList].find(c => c.startsWith('bi-')) || 'bi-tools' : 'bi-tools';
                const entry = {
                    href: link.getAttribute('href'),
                    name: (item.dataset.name || link.querySelector('.card-title')?.textContent || '').trim(),
                    icon: iconClass
                };
                link.addEventListener('click', () => { trackRecent(entry); });
            });

            renderRecent();

            /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
               CATEGORY COUNTS ON FILTER BUTTONS
            ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
            const catCounts = {};
            toolItems.forEach(item => {
                const c = item.dataset.category || 'other';
                catCounts[c] = (catCounts[c] || 0) + 1;
            });
            categoryBtns.forEach(btn => {
                const cat = btn.dataset.category;
                if (cat === 'all') return;
                const n = catCounts[cat] || 0;
                if (n) { btn.innerHTML += ` <span class="cat-count">${n}</span>`; }
            });

            /* ‚îÄ‚îÄ count pill styling ‚îÄ‚îÄ */
            const style = document.createElement('style');
            style.textContent = `
            .cat-count {
                background: rgba(0,0,0,0.10);
                border-radius: 999px;
                padding: 0 5px;
                font-size: 0.68rem;
                line-height: 1.6;
            }
            .category-btn.active .cat-count { background: rgba(255,255,255,0.25); }
        `;
            document.head.appendChild(style);

            /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
               URL-BASED FILTER STATE
            ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
            function parseURL() {
                const p = new URLSearchParams(location.search);
                return { q: p.get('q') || '', cat: p.get('cat') || 'all' };
            }
            function pushURL(q, cat) {
                const p = new URLSearchParams();
                if (q) p.set('q', q);
                if (cat && cat !== 'all') p.set('cat', cat);
                const qs = p.toString();
                history.replaceState(null, '', qs ? '?' + qs : location.pathname);
            }

            /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
               FILTERING CORE
            ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
            let activeCategory = 'all';

            function filterTools() {
                const q = searchInput.value.toLowerCase().trim();
                let visible = 0;
                toolItems.forEach(item => {
                    const name = (item.dataset.name || '').toLowerCase();
                    const desc = (item.dataset.desc || '').toLowerCase();
                    const cat = item.dataset.category;
                    const match = (!q || name.includes(q) || desc.includes(q)) &&
                        (activeCategory === 'all' || cat === activeCategory);
                    item.classList.toggle('hidden', !match);
                    if (match) visible++;
                });
                if (q || activeCategory !== 'all') {
                    resultsCount.textContent = `Showing ${visible} of ${toolItems.length} tools`;
                } else {
                    resultsCount.textContent = `Showing all ${toolItems.length} tools`;
                }
                emptyState.classList.toggle('visible', visible === 0);
                pushURL(q, activeCategory);
            }

            // Restore from URL on load
            const initial = parseURL();
            if (initial.q) { searchInput.value = initial.q; clearBtn.classList.add('visible'); }
            if (initial.cat !== 'all') {
                activeCategory = initial.cat;
                categoryBtns.forEach(b => {
                    b.classList.toggle('active', b.dataset.category === initial.cat);
                });
            }
            filterTools();

            // Category filter clicks
            categoryBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    categoryBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    activeCategory = btn.dataset.category;
                    filterTools();
                });
            });

            // Search input
            searchInput.addEventListener('input', () => {
                clearBtn.classList.toggle('visible', searchInput.value.length > 0);
                filterTools();
            });
            clearBtn.addEventListener('click', () => {
                searchInput.value = '';
                clearBtn.classList.remove('visible');
                filterTools();
                searchInput.focus();
            });

            /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
               KEYBOARD SHORTCUTS
            ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
            let hintTimer;
            function showKbdHint() {
                kbdHint.classList.add('show');
                clearTimeout(hintTimer);
                hintTimer = setTimeout(() => kbdHint.classList.remove('show'), 2500);
            }
            // Show hint first time user lands
            setTimeout(showKbdHint, 1200);

            document.addEventListener('keydown', e => {
                const tag = document.activeElement.tagName;
                const editing = tag === 'INPUT' || tag === 'TEXTAREA' || tag === 'SELECT';
                if (e.key === '/' && !editing) {
                    e.preventDefault();
                    searchInput.focus();
                    searchInput.select();
                    return;
                }
                if (e.key === 'Escape' && editing) {
                    searchInput.blur();
                    if (searchInput.value) {
                        searchInput.value = '';
                        clearBtn.classList.remove('visible');
                        filterTools();
                    }
                }
            });

            /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
               THEME
            ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
            function applyTheme(theme) {
                document.documentElement.setAttribute('data-theme', theme);
                localStorage.setItem('phs-theme', theme);
            }
            const savedTheme = localStorage.getItem('phs-theme');
            if (savedTheme) applyTheme(savedTheme);
            else if (window.matchMedia('(prefers-color-scheme: dark)').matches) applyTheme('dark');

            window.toggleTheme = () => {
                const cur = document.documentElement.getAttribute('data-theme') || 'light';
                applyTheme(cur === 'dark' ? 'light' : 'dark');
            };

            /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
               PWA
            ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
            let deferredPrompt = null;
            const pwaBanner = document.getElementById('pwaBanner');
            const pwaInstallBtn = document.getElementById('pwaInstallBtn');
            const pwaDismissBtn = document.getElementById('pwaDismissBtn');

            window.addEventListener('beforeinstallprompt', e => {
                e.preventDefault();
                deferredPrompt = e;
                if (!localStorage.getItem('phs-pwa-dismissed')) {
                    pwaBanner.classList.add('show');
                }
            });
            pwaInstallBtn.addEventListener('click', async () => {
                if (!deferredPrompt) return;
                deferredPrompt.prompt();
                await deferredPrompt.userChoice;
                deferredPrompt = null;
                pwaBanner.classList.remove('show');
            });
            pwaDismissBtn.addEventListener('click', () => {
                pwaBanner.classList.remove('show');
                localStorage.setItem('phs-pwa-dismissed', '1');
            });

            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.register('sw.js').catch(() => { });
            }
        })();
    </script>
</body>

</html>