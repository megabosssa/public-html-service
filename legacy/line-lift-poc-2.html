<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../assets/css/global.css">
    <title>LIFF App</title>
    <link rel="icon" type="image/svg+xml" href="../assets/images/favicon.svg">
    <script src="https://static.line-scdn.net/liff/edge/2.15.1/sdk.js"></script>
</head>
<body>
<nav class="simple-nav">
 <a href="../index.html">Home</a> | <a href="javascript:history.back()">Back</a>
</nav>
    <h1>LIFF App</h1>
    <button id="getUserId">Get User ID</button>
    <script>
        document.getElementById('getUserId').addEventListener('click', function () {
            liff.init({
                liffId: '2006017662-35jQJzg2' // Replace with your LIFF ID
            })
            .then(() => {
                if (!liff.isLoggedIn()) {
                    liff.login();
                } else {
                    const idToken = liff.getIDToken();
                    const decodedIDToken = liff.getDecodedIDToken();
                    const userId = decodedIDToken.sub; // Unique to the user and the OA
                    alert('User ID: ' + userId);
                }
            })
            .catch(err => {
                console.error('LIFF initialization failed:', err);
            });
        });
    </script>
</body>
</html>
